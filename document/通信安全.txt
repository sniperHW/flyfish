flykv <-> pd
console <-> pd
flygate <-> pd

之间的通信必须是安全的

在这里pd作为服务器，其余客户端进程在于pd进行第一次udp通信之前必须先使用tls连接与pd握手。
由pd选择一个秘钥，并作为握手结果返回给客户端。后续所有udp通信全部使用这个秘钥进行加解密。

pd(进程,秘钥)关系对必须需要把写入raft日志，以确保秘钥关系在pd切换或发生故障重启后不会丢失。


客户端通过心跳与pd保持关系。心跳超时pd将会删除秘钥关系。之后客户端需要再次使用tls连接与pd握手。
















