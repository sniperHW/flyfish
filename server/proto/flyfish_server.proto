syntax = "proto2";
package proto;


import "gogoproto/gogo.proto";

option (gogoproto.marshaler_all) = true;
option (gogoproto.sizer_all) = true;
option (gogoproto.unmarshaler_all) = true;
option (gogoproto.goproto_getters_all) = true;
option (gogoproto.goproto_enum_prefix_all) = true;


enum ServerCmdType {
  QueryLeader      = 1;
  QueryLeaderResp  = 2;
  GateReport       = 3;
  QueryGateList    = 4;
  GateList         = 5;
  NotiReloadKvConf = 6;
  RemoveGate       = 7;
}

//查询是否store的leader,如果是返回yes=true
message query_leader {
  optional int32 store = 1;
}

message query_leader_resp {
  optional bool yes = 1;
}


message gate_report {
  optional string service      = 1;
  optional string console      = 2;
  optional int32  conf_version = 3;
}

message query_gate_list {
  
}

message gate_list {
  repeated string list  = 1;
}

message notify_reload_kvconf {
  
}

message remove_gate {
  optional string service      = 1;
}